<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="res_config_settings_view_form" model="ir.ui.view">
        <field name="name">
            res.config.settings.view.form.inherit.cetmix.tower.settings
        </field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="base_setup.res_config_settings_view_form" />
        <field name="arch" type="xml">
            <form position="inside">
                <app
                    data-string="Cetmix Tower"
                    string="Cetmix Tower"
                    name="cetmix_tower_server"
                    groups="cetmix_tower_server.group_root"
                >
                    <block name="cetmix_tower_server_settings" title="System Settings">
                        <setting
                            id="cetmix_tower_command_timeout"
                            help="Command timeout in seconds after which the command will be terminated. Set to 0 to disable timeout."
                        >
                            <field name="cetmix_tower_command_timeout" />
                            <div class="mt8">
                                <button
                                    name="action_configure_zombie_commands_cron"
                                    string="Cron Job"
                                    type="object"
                                    class="btn-link"
                                    icon="fa-arrow-right"
                                />
                            </div>
                        </setting>
                        <setting
                            id="cetmix_tower_pull_files_from_server"
                            title="Pull files from server"
                            help="Files will be pulled from server to Tower automatically using cron job."
                        >
                            <div class="o_form_label">
                                <span>Pull files from server</span>
                            </div>
                            <div class="text-muted">
                                <span
                                >Files will be pulled from server to Tower automatically using cron job.</span>
                            </div>
                            <div class="mt8">
                                <button
                                    name="action_configure_cron_pull_files_from_server"
                                    string="Cron Job"
                                    type="object"
                                    class="btn-link"
                                    icon="fa-arrow-right"
                                />
                            </div>
                        </setting>
                        <setting
                            id="cetmix_tower_run_scheduled_tasks"
                            title="Run scheduled tasks"
                            help="Scheduled tasks will be run automatically using cron job."
                        >
                            <div class="o_form_label">
                                <span>Run scheduled tasks</span>
                            </div>
                            <div class="text-muted">
                                <span
                                >Scheduled tasks will be run automatically using cron job.</span>
                            </div>
                            <div class="mt8">
                                <button
                                    name="action_configure_run_scheduled_tasks_cron"
                                    string="Cron Job"
                                    type="object"
                                    class="btn-link"
                                    icon="fa-arrow-right"
                                />
                            </div>
                        </setting>
                    </block>
                    <block
                        name="cetmix_tower_notifications_settings"
                        title="Notifications"
                    >
                        <setting
                            id="cetmix_tower_notification_type_error"
                            help="Show notifications for error events. Select 'Sticky' to keep the notification visible until dismissed. Leave empty to disable notifications."
                        >
                            <field name="cetmix_tower_notification_type_error" />
                        </setting>
                        <setting
                            id="cetmix_tower_notification_type_success"
                            help="Show notifications for success events. Select 'Sticky' to keep the notification visible until dismissed. Leave empty to disable notifications."
                        >
                            <field name="cetmix_tower_notification_type_success" />
                        </setting>
                    </block>
                </app>
            </form>
        </field>
    </record>

    <!-- ## Action ## -->
    <record id="action_cetmix_tower_config_settings" model="ir.actions.act_window">
        <field name="name">General Settings</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.config.settings</field>
        <field name="view_id" ref="res_config_settings_view_form" />
        <field name="path">cetmix_tower_settings</field>
        <field name="view_mode">form</field>
        <field name="target">inline</field>
        <field
            name="context"
        >{'module' : 'cetmix_tower_server', 'bin_size': False}</field>
    </record>
</odoo>
